
<!--In this activity, you will be using the MBTA bus data to determine stops between Harvard and MIT.
   Then, you need to and add an animated marker on the map to highlight the bus routes.
  
  mapbox is an open-source platform that allows you to create and display maps on a web page. The mapboxgl JavaScript library is part of the Mapbox ecosystem. It allows you to add all sorts of customizations to the map. 
  For example, you can add a marker at a specific location on the map.

o accomplish this task, you will need to do the following:
Create a Mapbox account and get the access token
Add the access token to the mapboxgl instance defined in the mapanimation.js
Create a marker and add it to the map using the mapboxgl pre-built functions.
The function move() is called when the button “Show stops between MIT and Harvard” is selected. This is how you can start the marker animation.
If your code works, you should be able to see a marker moving from one bus stop to the next on the map.-->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Add a default marker</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
<style>
  body { margin: 0; padding: 0; }
  #map { position: absolute; top: 0; bottom: 0; width: 100%; }

.map-overlay {
  position: absolute;
  left: 0;
  padding: 10px;
}
 
</style>
</head>
<body>
<div id="map"></div>

<div class="map-overlay top">
  <button style="font-size: 2em" onclick="move()">
    Show stops between MIT and Harvard
  </button>
</div>
 
<script>
  //access token required to use mapbox api
  mapboxgl.accessToken = 'pk.eyJ1Ijoic2h1c2h1MjAyMyIsImEiOiJjbG9oN25iM3kxMmxmMmtzMTF5a2VyZzZzIn0.U-pRGd2OmWOH9h4hyzCEVQ';

   //create the map
  var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v11',
      center: [-71.104081, 42.365554],
      zoom: 14
  });
 //add a marker to the map
var marker = new mapboxgl.Marker()
    .setLngLat([-71.092761, 42.357575])
    .addTo(map);

    //add a number of longtitude and latitude coordinates
    //whic correspond to the bus stops along the way
const busStops = [
    [-71.093729, 42.359244], 
    [-71.094915, 42.360175],
    [-71.095800, 42.360698],
    [-71.099558, 42.362953],
    [-71.103476, 42.365248],
    [-71.106067, 42.366806],
    [-71.108717, 42.368355],
    [-71.110799, 42.369192],
    [-71.113095, 42.370218],
    [-71.115476, 42.372085],
    [-71.117585, 42.373016],
    [-71.118625, 42.374863]
];

let counter = 0;
//the move function
function move(){
  //set a timer
  setTimeout(()=>{
    //if the counter is greater than or equal to the array conaining the 
    //bus stop coordinates
    //this means we went through all the bus stops, return 
    if (counter >= busStops.length) return;
    //otherwise move the marker to the new logtitude and latitude coordinate
    marker.setLngLat(busStops[counter]);
    counter++;//increment the counter so the next time the counter is called we advance to the next  position
    move(); // call the move function again to repeat executing
  },1000); //repeat every 1 second
}

</script>
 
</body>
</html>